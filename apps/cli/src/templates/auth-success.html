<!DOCTYPE html>
<html>

<head>
	<title>Authentication Successful</title>
	<style>
		body {
			font-family: system-ui, -apple-system, sans-serif;
			display: grid;
			place-items: center;
			height: 100vh;
			margin: 0;
			background-color: #f9fafb;
		}

		.container {
			text-align: center;
			padding: 2rem;
			background-color: white;
			border-radius: 0.5rem;
			box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
		}

		.success-text {
			color: #059669;
			margin-bottom: 1rem;
		}

		.close-button {
			background-color: #059669;
			color: white;
			border: none;
			padding: 0.5rem 1rem;
			border-radius: 0.375rem;
			cursor: pointer;
			font-size: 0.875rem;
			transition: background-color 0.2s;
		}

		.close-button:hover {
			background-color: #047857;
		}

		.close-button:focus {
			outline: 2px solid #059669;
			outline-offset: 2px;
		}
	</style>
</head>

<body>
	<div class="container">
		<h2 class="success-text">Authentication Successful!</h2>
		<p>Closing window...</p>
		<button class="close-button" onclick="attemptClose()">Close Window</button>
	</div>
	<script>
		function attemptClose() {
			// Try every possible method to close the window
			try {
				// Method 1: Basic window.close()
				window.close();

				// Method 2: Focus parent and close
				if (window.opener) {
					window.opener.focus();
					window.close();
				}

				// Method 3: Close via parent
				if (window.parent && window.parent !== window) {
					window.parent.close();
				}

				// Method 4: Try to simulate browser close button click
				window.open('', '_self').close();

				// Method 5: Try closing via location
				window.location.href = 'about:blank';
				window.close();
			} catch (e) {
				console.error('Failed to close window:', e);
			}
		}

		// Try closing immediately
		attemptClose();

		// Try again after a short delay (some browsers need this)
		setTimeout(attemptClose, 100);

		// And again after a longer delay (fallback)
		setTimeout(attemptClose, 500);

		// Final attempt
		setTimeout(attemptClose, 1000);
	</script>
</body>

</html>